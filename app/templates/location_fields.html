{% extends "layout.html" %}	
{% block body %}
<div class="text_body">
	{% from "_formhelpers_location_fields.html" import render_field %}
	<h2>Fieldbook tools</h2>
	<h3>Register fields</h3>
		<form action="{{ url_for('location_fields') }}" id="location_fields" method="post">
			{{ location_form.csrf_token }}
			{{ render_field (location_form.country) }}
			{{ render_field (add_country.text_country) }} 
			{{ render_field (add_country.submit_country) }}
			{{ render_field (location_form.region) }}
			{{ render_field (add_region.text_region) }} 
			{{ render_field (add_region.submit_region) }}
			{{ render_field (location_form.farm) }}
			{{ render_field (add_farm.text_farm) }} 
			{{ render_field (add_farm.submit_farm) }}
			{{ render_field (location_form.plot) }}
			{{ render_field (add_plot.text_plot) }} 
			{{ render_field (add_plot.submit_plot) }}
			<br><a>Add details to the selected plot</a><br>
			{{ render_field (fields_form.soil) }}
			{{ render_field (add_soil_form.text_soil) }} 
			{{ render_field (add_soil_form.submit_soil) }}
			{{ render_field (fields_form.shade_trees) }}
			{{ render_field (add_shade_tree_form.text_shade_tree) }} 
			{{ render_field (add_shade_tree_form.submit_shade_tree) }}
			{{ render_field (fields_form.submit_field_details) }}
		</form>
</div>
{% endblock %}
{% block chart %}
<div class="chart">
	<p>Registered plots and counts of trees (click to expand/collapse)</p>
	<svg width=500 height=500></svg>
	<script>jsonData = "/json_plots_treecount";</script>
	<script type="text/javascript" src="static/d3.v4.min.js"></script>
	<script type="text/javascript" src="static/d3_tree.js" charset="utf-8"></script>
	<script src="static/jquery_1.8.3_min.js"></script>
	<script src="static/jquery_location.js"></script>
	<script src="static/jquery_fields.js"></script>
</div>
{% endblock %}