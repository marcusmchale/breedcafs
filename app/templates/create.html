{% extends "layout.html" %}	
{% block body %}
	<div class="text_body">
		<h2>Create fields and register trees</h2>
		<p>Register new fields and trees in optional experimental blocks
		</p>
		{% from "_formhelpers_location_fields.html" import render_field %}
		<form action="{{ url_for('create') }}" id="create" method="post">
			<div>
				<h3>Select a location and register a field:</h3>
				{{ location_form.csrf_token }}
				{{ render_field (location_form.country) }}
				{{ render_field (add_country_form.text_country) }}
				{{ render_field (add_country_form.submit_country) }}
				{{ render_field (location_form.region) }}
				{{ render_field (add_region_form.text_region) }}
				{{ render_field (add_region_form.submit_region) }}
				{{ render_field (location_form.farm) }}
				{{ render_field (add_farm_form.text_farm) }}
				{{ render_field (add_farm_form.submit_farm) }}
				{{ render_field (location_form.field) }}
				{{ render_field (add_field_form.text_field) }}
				{{ render_field (add_field_form.submit_field) }}
				<br><br>
				<a>Optionally create and/or select an experimental block</a>
				<br><br>
				{{ render_field (location_form.block) }}
				{{ render_field (add_block_form.text_block) }}
				{{ render_field (add_block_form.submit_block) }}
				<br><br>
			</div>
			<div>
				<h3>Add trees to the field (within the block if selected)</h3>
				<br><br>
				{{ render_field (add_trees_form.count) }}
				{{ render_field (add_trees_form.submit_trees) }}
			</div>
		</form>
	</div>
<script src="{{ url_for('static', filename='jquery_1.8.3_min.js') }}"></script>
<script src="{{ url_for('static', filename='jquery_location.js') }}"></script>
{% endblock %}
{% block chart %}
<div class="chart">
	<p>Registered fields and counts of trees (click to expand/collapse)</p>
	<svg width=500 height=500></svg>
</div>
<script>jsonData = "/json_fields_treecount";</script>
<script src="{{ url_for('static', filename='d3.v4.min.js') }}"></script>
<script src="{{ url_for('static', filename='d3_tree.js') }}"></script>
{% endblock %}